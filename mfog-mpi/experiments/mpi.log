Processor pokebola, Rank 0 out of 2 processors
Reading examples from  'datasets/test.csv'
Reading model from     'datasets/model-clean.csv'
Writing matches to     'out/mpi.csv'
Writing timing to      'experiments/timing.csv'
minas-funcs.c,./target/mfog,Jun 25 2020 09:44:21,1593089075,readModel,10.1.0,7.140000e-04,1,100
[1] Recv model with 100 clusters took 	2.339670e+00s
minas-funcs.c,./target/mfog,Jun 25 2020 09:44:21,1593089078,readExamples,10.1.0,2.335179e+00,1,653457
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089078,sendModel,10.1.0,2.200000e-04,2,100
[1] Worker classify Test with 653457 examples took 	8.121515s
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089086,sendExamples,10.1.0,8.118231e+00,2,653457
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089086,main,10.1.0,8.118247e+00,2,653457
evaluate.c,target/eval,Jun 25 2020 09:42:39,1593089219,main,10.1.0,2.884788e+00,1,653457
Reading examples from   'datasets/test.csv'
Reading matches from    'out/mpi.csv'
Writing evaluation to   'experiments/mpi-matrix.log'
Writing timing to       'experiments/timing.csv'
Processor pokebola, Rank 0 out of 3 processors
Reading examples from  'datasets/test.csv'
Reading model from     'datasets/model-clean.csv'
Writing matches to     'out/mpi.csv'
Writing timing to      'experiments/timing.csv'
minas-funcs.c,./target/mfog,Jun 25 2020 09:44:21,1593089303,readModel,10.1.0,6.570000e-04,1,100
minas-funcs.c,./target/mfog,Jun 25 2020 09:44:21,1593089306,readExamples,10.1.0,2.299047e+00,1,653457
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089306,sendModel,10.1.0,2.720000e-04,3,100
[1] Recv model with 100 clusters took 	2.304881e+00s
[2] Recv model with 100 clusters took 	2.272805e+00s
[1] Worker classify Test with 326729 examples took 	5.249648s
[2] Worker classify Test with 326728 examples took 	5.165205s
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089311,sendExamples,10.1.0,5.239360e+00,3,653457
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089311,main,10.1.0,5.239376e+00,3,653457
evaluate.c,target/eval,Jun 25 2020 09:42:39,1593089485,main,10.1.0,2.859708e+00,1,653457
Reading examples from   'datasets/test.csv'
Reading matches from    'out/mpi.csv'
Writing evaluation to   'experiments/mpi-matrix.log'
Writing timing to       'experiments/timing.csv'
Processor pokebola, Rank 0 out of 4 processors
Reading examples from  'datasets/test.csv'
Reading model from     'datasets/model-clean.csv'
Writing matches to     'out/mpi.csv'
Writing timing to      'experiments/timing.csv'
minas-funcs.c,./target/mfog,Jun 25 2020 09:44:21,1593089518,readModel,10.1.0,1.124000e-03,1,100
minas-funcs.c,./target/mfog,Jun 25 2020 09:44:21,1593089522,readExamples,10.1.0,3.824508e+00,1,653457
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089522,sendModel,10.1.0,2.970000e-04,4,100
[1] Recv model with 100 clusters took 	3.832461e+00s
[2] Recv model with 100 clusters took 	3.832640e+00s
[3] Recv model with 100 clusters took 	3.831864e+00s
[1] Worker classify Test with 217819 examples took 	3.738434s
[3] Worker classify Test with 217819 examples took 	3.738946s
[2] Worker classify Test with 217819 examples took 	3.741368s
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089525,sendExamples,10.1.0,3.725782e+00,4,653457
minas-mpi.c,./target/mfog,Jun 25 2020 09:44:21,1593089525,main,10.1.0,3.725804e+00,4,653457
evaluate.c,target/eval,Jun 25 2020 09:42:39,1593089549,main,10.1.0,2.754299e+00,1,653457
Reading examples from   'datasets/test.csv'
Reading matches from    'out/mpi.csv'
Writing evaluation to   'experiments/mpi-matrix.log'
Writing timing to       'experiments/timing.csv'
--------------------------------------------------------------------------
There are not enough slots available in the system to satisfy the 5
slots that were requested by the application:

  ./target/mfog

Either request fewer slots for your application, or make more slots
available for use.

A "slot" is the Open MPI term for an allocatable unit where we can
launch a process.  The number of slots available are defined by the
environment in which Open MPI processes are run:

  1. Hostfile, via "slots=N" clauses (N defaults to number of
     processor cores if not provided)
  2. The --host command line parameter, via a ":N" suffix on the
     hostname (N defaults to 1 if not provided)
  3. Resource manager (e.g., SLURM, PBS/Torque, LSF, etc.)
  4. If none of a hostfile, the --host command line parameter, or an
     RM is present, Open MPI defaults to the number of processor cores

In all the above cases, if you want Open MPI to default to the number
of hardware threads instead of the number of processor cores, use the
--use-hwthread-cpus option.

Alternatively, you can use the --oversubscribe option to ignore the
number of available slots when deciding the number of processes to
launch.
--------------------------------------------------------------------------
14769  make target/minas
14770  make out/serial.csv
14771  make experiments/serial-matrix.log
14774  mpiexec -np 2 ./target/mfog MODEL_CSV=datasets/model-clean.csv EXAMPLES_CSV=datasets/test.csv TIMING_LOG=experiments/timing.csv MATCHES_CSV=out/mpi.csv > experiments/mpi.log 2>&1
14777  echo '--np 2' >> experiments/mpi-matrix.log
14775  target/eval EXAMPLES_CSV=datasets/test.csv TIMING_LOG=experiments/timing.csv MATCHES_CSV=out/mpi.csv EVALUATE_LOG=experiments/mpi-matrix.log >> experiments/mpi.log 2>&1
14778  mpiexec -np 3 ./target/mfog MODEL_CSV=datasets/model-clean.csv EXAMPLES_CSV=datasets/test.csv TIMING_LOG=experiments/timing.csv MATCHES_CSV=out/mpi.csv >> experiments/mpi.log 2>&1
14777  echo '--np 3' >> experiments/mpi-matrix.log
14779  target/eval EXAMPLES_CSV=datasets/test.csv TIMING_LOG=experiments/timing.csv MATCHES_CSV=out/mpi.csv EVALUATE_LOG=experiments/mpi-matrix.log >> experiments/mpi.log 2>&1
14781  mpiexec -np 4 ./target/mfog MODEL_CSV=datasets/model-clean.csv EXAMPLES_CSV=datasets/test.csv TIMING_LOG=experiments/timing.csv MATCHES_CSV=out/mpi.csv >> experiments/mpi.log 2>&1
14780  echo '--np 4' >> experiments/mpi-matrix.log
14782  target/eval EXAMPLES_CSV=datasets/test.csv TIMING_LOG=experiments/timing.csv MATCHES_CSV=out/mpi.csv EVALUATE_LOG=experiments/mpi-matrix.log >> experiments/mpi.log 2>&1
14783  mpiexec -np 5 ./target/mfog MODEL_CSV=datasets/model-clean.csv EXAMPLES_CSV=datasets/test.csv TIMING_LOG=experiments/timing.csv MATCHES_CSV=out/mpi.csv >> experiments/mpi.log 2>&1

14784  scp *.c *.h makefile almoco:~/cloud
14785  ssh almoco

